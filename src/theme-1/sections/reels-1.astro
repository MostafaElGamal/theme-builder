<section class='reels-section overflow-hidden'>
  <div class='container container-lg'>
    <div class='section-heading'>
      <div class='flex justify-end flex-wrap gap-8'>
        <div class='flex items-center gap-16 wow bounceInRight'>
          <div class='flex items-center gap-8'>
            <button
              type='button'
              id='reels-prev'
              class='slick-prev slick-arrow'
            >
              <i class='ph ph-caret-left'></i>
            </button>
            <button
              type='button'
              id='reels-next'
              class='slick-next slick-arrow'
            >
              <i class='ph ph-caret-right'></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class='reels-slider arrow-style-two'>
      <!-- Reel Item 1 -->
      <div class='reel-item px-2'>
        <div class='relative rounded-16 overflow-hidden group cursor-pointer'>
          <div class='aspect-[9/16] bg-gradient-to-br from-purple-500 to-pink-500'>
            <video
              class='w-full h-full object-cover reel-video'
              autoplay
              muted
              loop
              playsinline
              data-video-src='https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4'
            >
              <source
                src='https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4'
                type='video/mp4'
              />
            </video>
          </div>
          <div
            class='absolute inset-0 bg-gradient-to-t from-black/60 to-transparent pointer-events-none'
          >
          </div>
        </div>
      </div>

      <!-- Reel Item 2 -->
      <div class='reel-item px-2'>
        <div class='relative rounded-16 overflow-hidden group cursor-pointer'>
          <div class='aspect-[9/16] bg-gradient-to-br from-green-500 to-teal-500'>
            <video
              class='w-full h-full object-cover reel-video'
              autoplay
              muted
              loop
              playsinline
              data-video-src='https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4'
            >
              <source
                src='https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4'
                type='video/mp4'
              />
            </video>
          </div>
          <div
            class='absolute inset-0 bg-gradient-to-t from-black/60 to-transparent pointer-events-none'
          >
          </div>
        </div>
      </div>

      <!-- Reel Item 3 -->
      <div class='reel-item px-2'>
        <div class='relative rounded-16 overflow-hidden group cursor-pointer'>
          <div class='aspect-[9/16] bg-gradient-to-br from-orange-500 to-red-500'>
            <video
              class='w-full h-full object-cover reel-video'
              autoplay
              muted
              loop
              playsinline
              data-video-src='https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4'
            >
              <source
                src='https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4'
                type='video/mp4'
              />
            </video>
          </div>
          <div
            class='absolute inset-0 bg-gradient-to-t from-black/60 to-transparent pointer-events-none'
          >
          </div>
        </div>
      </div>

      <!-- Reel Item 4 -->
      <div class='reel-item px-2'>
        <div class='relative rounded-16 overflow-hidden group cursor-pointer'>
          <div class='aspect-[9/16] bg-gradient-to-br from-blue-500 to-indigo-500'>
            <video
              class='w-full h-full object-cover reel-video'
              autoplay
              muted
              loop
              playsinline
              data-video-src='https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4'
            >
              <source
                src='https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4'
                type='video/mp4'
              />
            </video>
          </div>
          <div
            class='absolute inset-0 bg-gradient-to-t from-black/60 to-transparent pointer-events-none'
          >
          </div>
        </div>
      </div>

      <!-- Reel Item 5 -->
      <div class='reel-item px-2'>
        <div class='relative rounded-16 overflow-hidden group cursor-pointer'>
          <div class='aspect-[9/16] bg-gradient-to-br from-yellow-500 to-orange-500'>
            <video
              class='w-full h-full object-cover reel-video'
              autoplay
              muted
              loop
              playsinline
              data-video-src='https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerMeltdowns.mp4'
            >
              <source
                src='https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerMeltdowns.mp4'
                type='video/mp4'
              />
            </video>
          </div>
          <div
            class='absolute inset-0 bg-gradient-to-t from-black/60 to-transparent pointer-events-none'
          >
          </div>
        </div>
      </div>

      <!-- Reel Item 6 -->
      <div class='reel-item px-2'>
        <div class='relative rounded-16 overflow-hidden group cursor-pointer'>
          <div class='aspect-[9/16] bg-gradient-to-br from-pink-500 to-rose-500'>
            <video
              class='w-full h-full object-cover reel-video'
              autoplay
              muted
              loop
              playsinline
              data-video-src='https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4'
            >
              <source
                src='https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4'
                type='video/mp4'
              />
            </video>
          </div>
          <div
            class='absolute inset-0 bg-gradient-to-t from-black/60 to-transparent pointer-events-none'
          >
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Video Modal Overlay -->
<div
  id='video-modal'
  class='fixed inset-0 bg-black/90 z-[9999] hidden items-center justify-center'
>
  <button
    id='close-modal'
    class='absolute top-8 right-8 text-white text-4xl z-[10000] w-12 h-12 flex items-center justify-center hover:bg-white/20 rounded-full transition-all'
  >
    <i class='ph ph-x'></i>
  </button>
  <div class='relative w-full max-w-[90vw] max-h-[90vh] flex items-center justify-center'>
    <video
      id='modal-video'
      class='w-auto h-auto max-w-full max-h-[90vh] rounded-16'
      controls
      autoplay
    >
    </video>
  </div>
</div>

<script>
  $(".reels-slider").slick({
    slidesToShow: 5,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 3000,
    speed: 900,
    dots: false,
    pauseOnHover: true,
    arrows: true,
    draggable: true,
    rtl: $("html").attr("dir") === "rtl",
    infinite: true,
    nextArrow: "#reels-next",
    prevArrow: "#reels-prev",
    responsive: [
      {
        breakpoint: 1399,
        settings: { slidesToShow: 5, arrows: false },
      },
      {
        breakpoint: 1199,
        settings: { slidesToShow: 3, arrows: false },
      },
      {
        breakpoint: 992,
        settings: { slidesToShow: 3, arrows: false },
      },
      {
        breakpoint: 768,
        settings: { slidesToShow: 2, arrows: false },
      },
      {
        breakpoint: 575,
        settings: { slidesToShow: 1, arrows: false },
      },
    ],
  });

  // Video modal functionality
  const modal = document.getElementById("video-modal");
  const modalVideo = document.getElementById("modal-video");
  const closeModal = document.getElementById("close-modal");
  const reelVideos = document.querySelectorAll(".reel-video");

  // Open modal when clicking on any reel video
  reelVideos.forEach((video) => {
    video.addEventListener("click", function (e) {
      e.stopPropagation();
      const videoSrc = this.getAttribute("data-video-src");
      modalVideo.src = videoSrc;
      modal.classList.remove("hidden");
      modal.classList.add("flex");
      modalVideo.play();
    });
  });

  // Close modal
  function closeVideoModal() {
    modal.classList.add("hidden");
    modal.classList.remove("flex");
    modalVideo.pause();
    modalVideo.src = "";
  }

  closeModal.addEventListener("click", closeVideoModal);
  modal.addEventListener("click", function (e) {
    if (e.target === modal) {
      closeVideoModal();
    }
  });

  // Close modal on Escape key
  document.addEventListener("keydown", function (e) {
    if (e.key === "Escape" && !modal.classList.contains("hidden")) {
      closeVideoModal();
    }
  });
</script>
